{% extends "base.html" %}
{% block content %}
<div class="container mt-5">
    <h2 class="fw-bold">üìÖ –í–∞—à–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</h2>
    <p class="text-muted">–ó–¥–µ—Å—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–µ –≤–∞—à–∏ –∞–∫—Ç–∏–≤–Ω—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.</p>

    {% if bookings %}
    <div class="table-responsive">
        <table class="table table-striped table-hover shadow-sm rounded">
            <thead class="table-dark">
                <tr>
                    <th>–ò–º—è</th>
                    <th>–¢–µ–ª–µ—Ñ–æ–Ω</th>
                    <th>–î–∞—Ç–∞</th>
                    <th>–í—Ä–µ–º—è</th>
                    <th>–°—Ç–æ–ª–∏–∫</th>
                    <th>–ì–æ—Å—Ç–∏</th>
                    <th>–°—Ç–∞—Ç—É—Å</th>
                    <th class="text-center">–î–µ–π—Å—Ç–≤–∏—è</th>
                </tr>
            </thead>
            <tbody>
                {% for booking in bookings %}
                <tr>
                    <td>{{ booking.name }}</td>
                    <td>{{ booking.phone }}</td>
                    <td>{{ booking.date }}</td>
                    <td>{{ booking.time }}</td>
                    <td>{{ booking.table }}</td>
                    <td>{{ booking.guests }}</td>
                    <td>
                        {% if booking.status == "pending" %}
                            <span class="badge bg-warning text-dark">‚è≥ –û–∂–∏–¥–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</span>
                        {% elif booking.status == "confirmed" %}
                            <span class="badge bg-success">‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ</span>
                        {% else %}
                            <span class="badge bg-danger">‚ùå –û—Ç–∫–ª–æ–Ω–µ–Ω–æ</span>
                        {% endif %}
                    </td>
                    <td class="text-center">
                        <div class="d-flex justify-content-center">
                            {% if booking.status == "pending" %}
                                <a href="{% url 'reservations:edit_booking' booking.id %}" class="btn btn-sm btn-warning mx-1">‚úè –ò–∑–º–µ–Ω–∏—Ç—å</a>
                                <a href="{% url 'reservations:cancel_booking' booking.id %}" class="btn btn-sm btn-danger mx-1" onclick="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–º–µ–Ω–∏—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ?');">‚ùå –û—Ç–º–µ–Ω–∏—Ç—å</a>
                            {% elif booking.status == "confirmed" %}
                                <span class="btn btn-sm btn-outline-success disabled mx-1">‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ</span>
                            {% else %}
                                <span class="btn btn-sm btn-outline-danger disabled mx-1">‚ùå –û—Ç–∫–ª–æ–Ω–µ–Ω–æ</span>
                            {% endif %}
                        </div>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    {% else %}
    <p class="text-muted text-center">–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π.</p>
    {% endif %}

    <div class="text-center mt-4">
        <a href="{% url 'reservations:booking' %}" class="btn btn-primary btn-lg">
            üìÖ –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ
        </a>
    </div>
</div>
{% endblock %}
