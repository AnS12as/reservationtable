{% extends "base.html" %}
{% block title %}–í–∞—à–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è - –†–µ—Å—Ç–æ—Ä–∞–Ω{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2 class="fw-bold text-center">–í–∞—à–∏ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è</h2>
    <p class="text-muted text-center">–ó–¥–µ—Å—å –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –≤—Å–µ –≤–∞—à–∏ –∞–∫—Ç–∏–≤–Ω—ã–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏—è.</p>

    {% if bookings %}
    <table class="table table-striped table-bordered mt-4">
        <thead class="table-dark">
            <tr>
                <th>–î–∞—Ç–∞</th>
                <th>–í—Ä–µ–º—è</th>
                <th>–°—Ç–æ–ª–∏–∫</th>
                <th>–ì–æ—Å—Ç–µ–π</th>
                <th>–°—Ç–∞—Ç—É—Å</th>
                <th>–î–µ–π—Å—Ç–≤–∏—è</th>
            </tr>
        </thead>
        <tbody>
            {% for booking in bookings %}
            <tr>
                <td>{{ booking.date }}</td>
                <td>{{ booking.time }}</td>
                <td>{{ booking.table }}</td>
                <td>{{ booking.guests }}</td>
                <td>
                    {% if booking.status == "pending" %}
                        <span class="badge bg-warning text-dark">–û–∂–∏–¥–∞–µ—Ç –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏—è</span>
                    {% elif booking.status == "confirmed" %}
                        <span class="badge bg-success">–ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ</span>
                    {% else %}
                        <span class="badge bg-danger">–û—Ç–∫–ª–æ–Ω–µ–Ω–æ</span>
                    {% endif %}
                </td>
                <td>
                    {% if booking.status == "pending" %}
                        <a href="{% url 'reservations:edit_booking' booking.id %}" class="btn btn-sm btn-warning">
                            ‚úè –ò–∑–º–µ–Ω–∏—Ç—å
                        </a>
                        <a href="{% url 'reservations:cancel_booking' booking.id %}" class="btn btn-sm btn-danger"
                           onclick="return confirm('–í—ã —É–≤–µ—Ä–µ–Ω—ã, —á—Ç–æ —Ö–æ—Ç–∏—Ç–µ –æ—Ç–º–µ–Ω–∏—Ç—å –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ?');">
                            ‚ùå –û—Ç–º–µ–Ω–∏—Ç—å
                        </a>
                    {% elif booking.status == "confirmed" %}
                        <span class="text-success">‚úÖ –ü–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–æ</span>
                    {% else %}
                        <span class="text-danger">‚ùå –û—Ç–∫–ª–æ–Ω–µ–Ω–æ</span>
                    {% endif %}
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <p class="text-muted text-center mt-4">–£ –≤–∞—Å –ø–æ–∫–∞ –Ω–µ—Ç –∞–∫—Ç–∏–≤–Ω—ã—Ö –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–π.</p>
    {% endif %}

    <div class="text-center mt-4">
        <a href="{% url 'reservations:booking' %}" class="btn btn-primary">üìÖ –°–æ–∑–¥–∞—Ç—å –Ω–æ–≤–æ–µ –±—Ä–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ</a>
    </div>
</div>
{% endblock %}
